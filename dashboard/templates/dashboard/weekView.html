{% extends "base.html" %}

{% load staticfiles %}

{% load render_table from django_tables2 %}

{% block title %} Trainings list {% endblock title %}

{% block extra_head  %}
    <link href="{% static 'trainings/css/trainings.css' %}" rel="stylesheet">
    <script src="{% static 'trainings/js/trainings.js' %}"></script>
{% endblock extra_head %}


{% block user_content %}

    <section id="calendar-label">
        <div class="container">
            <div class="row">
                <div class="col-lg-12 mx-auto" >
                    <h3>
                        Mój Plan Tygodnia {{ whole_week.0 | date:'d.m.Y' }} -  {{ whole_week.6 | date:'d.m.Y' }}
                    </h3>

                    <div class="row">

                        {% if previous_week %}
                            <div class="col-md-1">
                                {% if role == 'coach'%}
                                    <a class="btn btn-sq" href="{% url 'dashboard:coach-week' year=previous_week|date:'Y' week=previous_week|date:'W' %}">
                                {% elif role == 'player'%}
                                    <a class="btn btn-sq" href="{% url 'dashboard:player-week' year=previous_week|date:'Y' week=previous_week|date:'W' %}">
                                {% endif %}
                                        <i class="fa fa-angle-double-left" aria-hidden="true"></i>
                                    </a>
                            </div>
                        {% endif %}

                        {% for day in whole_week %}
                            <div class="col-md-1">
                                    <a class="btn btn-sq" data-toggle="collapse" 
                                            href=".{{ day | date:'d-m-Y' }}" aria-expanded="false">
                                            {% cycle 'PN' 'WT' 'ŚR' 'CZW' 'PT' 'SO' 'ND' %} </a>  
                            </div>                     
                        {% endfor %}
                        {% resetcycle %}

                        <div class="col-md-1">
                            <a class="btn btn-sq" data-toggle="collapse" href=".multi-collapse" aria-expanded="false"> ALL </a>
                        </div>

                        {% if next_week %}
                            <div class="col-md-1">
                                {% if role == 'coach'%}
                                    <a class="btn btn-sq" href="{% url 'dashboard:coach-week' year=previous_week|date:'Y' week=previous_week|date:'W' %}">
                                {% elif role == 'player'%}
                                    <a class="btn btn-sq" href="{% url 'dashboard:player-week' year=previous_week|date:'Y' week=previous_week|date:'W' %}">
                                {% endif %}

                                        <i class="fa fa-angle-double-right" aria-hidden="true"></i>
                                </a>
                            </div>
                        {% endif %}
                    </div>

                    {% for event in events %}
                        <div class="collapse multi-collapse {{ event.date | date:'d-m-Y' }}">
                            {% include "trainings/event/detail.html" %}
                        </div>
                    {% endfor %}
                    {% resetcycle %}

                </div>
            </div>
        </div>
    </section>

{% endblock user_content %}


{% block board_label %}
    {% include 'dashboard/temp_table.html' %}
{% endblock board_label %}